@{Layout = null;}
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration

<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="keywords" content="#">
    <meta name="description" content="#">
    <title>Individual Registration</title>
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/images/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/images/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/images/favicon.ico">
    <link rel="apple-touch-icon-precomposed" href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/images/favicon.ico">
    <link rel="shortcut icon" href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/images/favicon.ico">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.0.4/css/all.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/font/flaticon.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/slick.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/ion.rangeSlider.min.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/datepicker.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/magnific-popup.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/nice-select.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/style.css" rel="stylesheet">
    <link href="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/css/responsive.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://www.jqueryscript.net/demo/Bootstrap-4-Dropdown-Select-Plugin-jQuery/dist/css/bootstrap-select.css" />

</head>



<body>
    <style>
        body {
            overflow-x: hidden;
            box-sizing: border-box;
        }

        .extensionDoc {
            color: grey;
            font-size: 11px;
        }

        .required {
            color: red
        }

        label {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        input {
            background: #f8f9fa !important;
        }

        button.btn.dropdown-toggle.bs-placeholder, .bootstrap-select.btn-group > .dropdown-toggle {
            background: #f8f9fa !important;
            padding-right: 28px !important;
        }

        body {
            overflow-x: hidden;
        }
    </style>

    <div class="container pl-4 pr-4" style="direction:ltr;text-align:left;">


        <div class="row">

            <div class="col-md-12 mb-5 mt-3 pr-3 pl-3">


                <form id="RegisterForm" role="form">

                    <div class="row ">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Title" class="fs-14 text-custom-black fw-500">Title <span class="required">*</span> </label>
                                <div class="group-form inputFields RegisterLang ">
                                    <select Titlekey="Title" class=" RegisterLang form-control selectpicker Honorifics" id="Honorifics" name="Honorifics" dir="rtl">
                                        <option key="Mr" value="Mr" name="Mr">Mr</option>
                                        <option key="Ms" value="Ms" name="Ms">Ms</option>
                                        <option key="Mrs" value="Mrs" name="Mrs">Mrs</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row ">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Name" class="fs-14 text-custom-black fw-500">Name <span class="required">*</span> </label>
                                <input autocomplete="off" InputKey="Name" maxlength="50" class="form-control form-control-custom" type="text" name="Name" id="Name" placeholder="Name">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Email" class="fs-14 text-custom-black fw-500">Email <span class="text-secondary">(Optional)</span> </label>
                                <input autocomplete="off" InputKey="Email" maxlength="60" class="form-control form-control-custom" type="text" name="Email" id="Email" placeholder="Email">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Username" class="fs-14 text-custom-black fw-500">Username <span class="required">*</span> </label>
                                <input autocomplete="off" InputKey="Username" maxlength="50" class="form-control form-control-custom" type="text" name="Username" id="Username" placeholder="Username">
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12 ">
                            <div class="form-group RegisterLang">
                                <label key="Password" class="fs-14 text-custom-black fw-500">Password <span class="required">*</span> </label>
                                <input autocomplete="off" InputKey="Password" maxlength="20" class="form-control form-control-custom" type="password" name="Password" id="Password" placeholder="Password">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">

                            <div class="form-group FlightSearchLang">
                                <label key="Birthdate" class="fs-14 text-custom-black fw-500">Birthdate <span class="required">*</span> </label>
                                <div class="input-group group-form">
                                    <input autocomplete="off" type="text" readonly="readonly" name="Birthdate" id="Birthdate" class="form-control form-control-custom " placeholder="DD-MMMM-YY" />
                                    <span class="input-group-append">
                                        <i class="far fa-calendar"></i>
                                    </span>
                                </div>
                            </div>

                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Nationality" class="fs-14 text-custom-black fw-500">Nationality <span class="required">*</span> </label>
                                <div class="group-form inputFields RegisterLang">
                                    <select Titlekey="Nationality" data-live-search="true" id="Nationality" name="Nationality" title="Nationality" class="selectpicker form-control" data-size="10">
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Mobile" class="fs-14 text-custom-black fw-500">Mobile <span class="required">*</span> </label>
                                <div class="input-group group-form">

                                    <input autocomplete="off" Inputkey="Mobile" style=" padding-left: 64px;padding-right: 64px;" class="form-control form-control-custom" maxlength="9" type="tel" onkeypress="return isNumberKey(event)" name="Mobile" id="Mobile" placeholder="XXXXXXXXX">

                                    <span class="input-group-mask">(+971) -</span>
                                </div>
                                @*<input Inputkey="Mobile" maxlength="9" class="form-control form-control-custom" type="tel" onkeypress="return isNumberKey(event)" name="Mobile" id="Mobile" placeholder="Mobile" required>*@
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="Passport" class="fs-14 text-custom-black fw-500">ID<span class="required">*</span> </label>
                                <input autocomplete="off" Inputkey="Passport" maxlength="18" class="form-control form-control-custom" type="text" name="Documents" id="Documents" placeholder="ID" required>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group RegisterLang">
                                <label key="DocumentType" class="fs-14 text-custom-black fw-500">Document Type <span class="required">*</span> </label>
                                <div class="group-form inputFields RegisterLang">
                                    <select Titlekey="DocumentTypee" multiple id="DocumentType" name="DocumentType" class=" RegisterLang selectpicker form-control DocumentType ">
                                        <option value="U">UAE ID</option>
                                        <option value="P">Passport</option>
                                        <option value="T">Travel ID</option>
                                        <option value="S">Security ID</option>
                                        <option value="C">Company ID</option>
                                        <option value="B">Birth Certificate</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row wrapper_Block" style="width:100%">
                        <div class="col-md-12" id="FlieUAE" style="display: none;">
                            <div class="form-group RegisterLang">
                                <label key="UploadUAEID" class="fs-14 text-custom-black fw-500">UAE ID <span class="required">*</span>  <span class="extensionDoc"> (doc, docx, jpeg, jpg, png, pdf)</span> </label>
                                <input class="form-control form-control-custom pt-1" type="file" name="files1" id="files1">
                            </div>
                        </div>
                        <div class="col-md-12" id="FliePasport" style="display: none;">
                            <div class="form-group RegisterLang">
                                <label key="UploadPassport" class="fs-14 text-custom-black fw-500">Passport <span class="required">*</span> <span class="extensionDoc"> (doc, docx, jpeg, jpg, png, pdf)</span></label>
                                <input class="form-control form-control-custom pt-1" type="file" name="files2" id="files2">
                            </div>
                        </div>
                        <div class="col-md-12" id="FlieTravelID" style="display: none;">
                            <div class="form-group RegisterLang">
                                <label key="UploadTravelID" class="fs-14 text-custom-black fw-500">Travel ID <span class="required">*</span> <span class="extensionDoc"> (doc, docx, jpeg, jpg, png, pdf)</span></label>
                                <input class="form-control form-control-custom pt-1" type="file" name="files3" id="files3">
                            </div>
                        </div>
                        <div class="col-md-12" id="FlieSecurityID" style="display: none;">
                            <div class="form-group RegisterLang">
                                <label key="UploadSecurityID" class="fs-14 text-custom-black fw-500">Security ID <span class="required">*</span> <span class="extensionDoc"> (doc, docx, jpeg, jpg, png, pdf)</span></label>
                                <input class="form-control form-control-custom pt-1" type="file" name="files4" id="files4">
                            </div>
                        </div>
                        <div class="col-md-12" id="FlieCompanyID" style="display: none;">
                            <div class="form-group RegisterLang">
                                <label key="UploadCompanyID" class="fs-14 text-custom-black fw-500">Company ID <span class="required">*</span> <span class="extensionDoc"> (doc, docx, jpeg, jpg, png, pdf)</span></label>
                                <input class="form-control form-control-custom pt-1" type="file" name="files5" id="files5">
                            </div>
                        </div>
                        <div class="col-md-12" id="FlieBirthCertificate" style="display: none;">
                            <div class="form-group RegisterLang">
                                <label key="UploadBirthCertificate" class="fs-14 text-custom-black fw-500">Birth Certificate  <span class="required">*</span> <span class="extensionDoc"> (doc, docx, jpeg, jpg, png, pdf)</span></label>
                                <input class="form-control form-control-custom pt-1" type="file" name="files6" id="files6">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mt-2">
                            <div class="form-group RegisterLang">
                                <label class="custom-checkbox RegisterLang">
                                    <input type="checkbox" name="ActiveDelmaIsland" id="ActiveDelmaIsland">
                                    <span class="checkmark"></span>
                                    <p key="AreYouDelmaResident">Are You Delma Resident?</p>
                                </label>
                            </div>
                        </div>

                    </div>


                    <div class="col-12">
                        <div class="form-group text-right mb-0 RegisterLang">
                            <button key="Register" type="button" id="registerUser" class="btn-first btn-small ">Register</button>

                        </div>
                    </div>





                </form>


            </div>



        </div>


    </div>
    <div id="preloader"></div>

    <input type="hidden" id="baseApiUrl" value="@Configuration.GetSection("UrlSetting").GetSection("baseApiUrl").Value" />
    <input type="hidden" id="baseWebUrl" value="@Configuration.GetSection("UrlSetting").GetSection("baseWebUrl").Value" />
    <input type="hidden" id="LiveWebUrl" value="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value" />
    <input type="hidden" id="baseUrlForMVCAction" value="@Configuration.GetSection("UrlSetting").GetSection("baseUrlForMVCAction").Value" />

    <script>
        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }
    </script>
    <script type="text/x-handlebars" id="temp_Nationality">

        {{#each this}}
        <option value="{{countryAbbrev}}">{{countryName}}</option>
        {{/each}}

    </script>
    <script type="text/x-handlebars" id="temp_NationalityAR">

        {{#each this}}
        <option value="{{countryAbbrev}}">{{countryNameAR}}</option>
        {{/each}}

    </script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js" integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js" integrity="sha512-RNLkV3d+aLtfcpEyFG8jRbnWHxUqVZozacROI4J2F1sTaDqo1dPQYs01OMi1t1w9Y2FdbSCDSQ2ZVdAC8bzgAg==" crossorigin="anonymous"></script>
    <script src="~/Register/js/AdditionMethod.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/popper.min.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/bootstrap.min.js"></script>
    <script src="https://www.jqueryscript.net/demo/Bootstrap-4-Dropdown-Select-Plugin-jQuery/dist/js/bootstrap-select.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
    <script src="~/assets/js/CustomInputMask.min.js"></script>
    <script src="~/assets/js/ion.rangeSlider.min.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/slick.min.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/datepicker.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/datepicker.en.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/isotope.pkgd.min.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/jquery.nice-select.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/jquery.magnific-popup.min.js"></script>
    <script src="@Configuration.GetSection("UrlSetting").GetSection("LiveWebUrl").Value/assets/js/custom.js"></script>
    <script>
        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }
    </script>
    <script type="text/javascript">

        var IfArabic = window.localStorage.language == 'ar';
        var LiveWebUrl = $("#LiveWebUrl").val();
        var ApiUrl = $("#baseApiUrl").val();
        var Language = window.localStorage.language;

        $(document).ready(function () {

            $('#preloader').show();

            //$('#Mobile').mask('(+971)-XXXXXXXXX', {
            //    placeholder: "(+971)-XXXXXXXXX",
            //    autoclear: false
            //});

            $(".Nationality").change(function () {

                $(this).valid();

            });


            $('#Birthdate').datepicker({

                onSelect: function () {
                    var dob = moment($('#Birthdate').val()).format("YYYY-MM-DD");
                    if (dob != '') {

                        var agemonths = moment().diff(moment(dob, 'YYYY-MM-DD'), 'month');

                        if (agemonths <= 6) {
                            swal({
                                icon: "info",
                                title: IfArabic ? "أنت رضيع" : "You are an infant",
                                confirmButtonText: IfArabic ? "موافق" : "OK",
                                text: IfArabic ? "غير مسموح بالتسجيل" : "Registration not allowed.",
                            });

                            $('#registerUser').hide();
                        }
                        else {
                            $('#registerUser').show();
                        }


                    }
                },
                closeText: 'Clear',
                Default: true,
                timepicker: false,
                minDate: false,
                maxDate: new Date(),
                dateFormat: 'dd-M-yyyy',
            });

            GetAllDropDown();
        });

        $(document).on('change', '.DocumentType', function () {



            if ($(".DocumentType").selectpicker("val").some(x => x == "U")) {
                $("#FlieUAE").css({ "display": "block" });

            }

            else {

                $("#FlieUAE").css({ "display": "none" });
            }

            if ($(".DocumentType").selectpicker("val").some(x => x == "P")) {

                $("#FliePasport").css({ "display": "block" });

            }
            else {

                $("#FliePasport").css({ "display": "none" });
            }
            if ($(".DocumentType").selectpicker("val").some(x => x == "T")) {
                $("#FlieTravelID").css({ "display": "block" });

            }
            else {

                $("#FlieTravelID").css({ "display": "none" });
            }


            if ($(".DocumentType").selectpicker("val").some(x => x == "S")) {
                $("#FlieSecurityID").css({ "display": "block" });

            } else {

                $("#FlieSecurityID").css({ "display": "none" });
            }

            if ($(".DocumentType").selectpicker("val").some(x => x == "C")) {
                $("#FlieCompanyID").css({ "display": "block" });

            } else {

                $("#FlieCompanyID").css({ "display": "none" });
            }

            if ($(".DocumentType").selectpicker("val").some(x => x == "B")) {
                $("#FlieBirthCertificate").css({ "display": "block" });

            } else {

                $("#FlieBirthCertificate").css({ "display": "none" });
            }

        });


        function GetAllDropDown() {



            postRequest(ApiUrl + "Flight/GetAllDropdowns", null, function (res) {

                if (res.status == 200) {

                    debugger
                    if (res.data && res.data != null) {

                        if (IfArabic) {

                            fillData(res.data.country, "#temp_NationalityAR", "#Nationality", true);
                            $('#Birthdate').attr('placeholder', "مم/دد/سسسس")
                            $('#Honorifics').parent().find('.filter-option').children().css({ "text-align": "right" }).text('اللقب')
                            $('#Nationality').parent().find('.filter-option').children().css({ "text-align": "right" }).text('الجنسية')
                            $('#DocumentType').parent().find('.filter-option').children().css({ "text-align": "right" }).text('نوع الوثيقة')



                        }
                        else {
                            fillData(res.data.country, "#temp_Nationality", "#Nationality", true);
                            $('#Honorifics').parent().find('.filter-option').children().text('Title').css({ "text-align": "left" })
                            $('#Nationality').parent().find('.filter-option').children().text('Nationality').css({ "text-align": "left" })
                            $('#DocumentType').parent().find('.filter-option').children().text('Document Type').css({ "text-align": "left" })
                        }



                        $('#preloader').hide();
                    }
                    $('#preloader').hide();
                }
                if (res.status == 401) {
                    $('#preloader').hide();
                    localStorage.removeItem("Menu");
                    localStorage.removeItem("userData");
                    window.location.href = baseWebUrl + "Dashboard";
                }
                if (res.status == 403) {

                    $('#preloader').hide();
                    swal(res.responseMsg, {
                        icon: "error",
                        title: "Error",
                    });
                }
                if (res.status == 500) {
                    $('#preloader').hide();
                    swal({
                        title: "Error",
                        text: res.responseMsg,
                        icon: "error",
                        dangerMode: true,
                    })
                }

                if (res.status == 420) {
                    $('#preloader').hide();
                    localStorage.removeItem("Menu");
                    localStorage.removeItem("userData");
                    window.location.href = baseWebUrl + "Dashboard";
                }

                if (res.status == 600) {
                    $('#preloader').hide();
                    swal({
                        title: "Error",
                        text: res.responseMsg,
                        icon: "error",
                        dangerMode: true,
                    })
                }

            });


        }







        $("#registerUser").click(function () {

            if ($("#RegisterForm").valid()) {
                $('#preloader').show();
                var formData = new FormData();

                var FileData = [];

                var RowLength = $(".wrapper_Block").children().length;

                debugger;

                for (var i = 1; i <= RowLength; i++) {


                    var files = $(".wrapper_Block").find(`#files${i}`).get(0).files;

                    if (files.length != 0) {


                        FileData.push(files[0]);

                    }

                }
                for (var i = 0; i < FileData.length; i++) {


                    formData.append("fileInput", FileData[i]);

                }

                formData.append("Language", Language),
                    formData.append("Honorifics", $('.Honorifics').selectpicker("val"))
                formData.append("Name", $("#Name").val())
                formData.append("Email", $("#Email").val())
                formData.append("Nationality", $("#Nationality").val())
                formData.append("Username", $("#Username").val())
                formData.append("Password", $("#Password").val())
                formData.append("Birthdate", moment($("#Birthdate").val()).format('YYYY-MM-DD'))
                formData.append("Mobile", $('#Mobile').val())
                formData.append("Documents", $("#Documents").val())
                formData.append("DocumentType", $("#DocumentType").val())
                formData.append("IsDelmaIsland", $('#ActiveDelmaIsland').is(":checked"))
                formData.append("IsUAEId", $('#ActiveUAEID').is(":checked"))

                postRequestWithoutStringfy(ApiUrl + "Register/Add", formData, function (res) {

                    if (res.status == 200) {
                        {

                            $('#preloader').hide();

                            swal({
                                icon: "success",
                                title: IfArabic ? "مسجل بنجاح" : "Registered Successfully",
                                confirmButtonText: IfArabic ? "موافق" : "OK",
                                dangerMode: false,
                                text: IfArabic ? "يمكنك الآن تسجيل الدخول" : "You can now Login",
                            });

                            $(document).find("input").val('');
                            $(document).find("select").val('').change();
                            $("#RegisterForm").data('validator').resetForm();

                        }
                    }
                    if (res.status == 401) {
                        $('#preloader').hide();
                        localStorage.removeItem("Menu");
                        localStorage.removeItem("userData");
                        window.location.href = baseWebUrl + "Dashboard";
                    }
                    if (res.status == 403) {

                        $('#preloader').hide();
                        swal(res.responseMsg, {
                            icon: "error",
                            title: IfArabic ? "خطأ" : "Error",
                            confirmButtonText: IfArabic ? "موافق" : "OK",
                            dangerMode: true,
                            text: IfArabic ? "عفواً! هنالك خطأ ما." : "Ooops! Something went wrong.",
                        });
                    }
                    if (res.status == 500) {
                        $('#preloader').hide();
                        swal({
                            title: IfArabic ? "خطأ" : "Error",
                            text: IfArabic ? "هناك خطأ ما!" : res.responseMsg,
                            icon: "error",
                            dangerMode: true,
                            confirmButtonText: IfArabic ? "موافق" : "OK",
                        })
                    }

                    if (res.status == 420) {
                        $('#preloader').hide();
                        localStorage.removeItem("Menu");
                        localStorage.removeItem("userData");
                        window.location.href = baseWebUrl + "Dashboard";
                    }

                    if (res.status == 600) {
                        $('#preloader').hide();
                        swal({
                            title: IfArabic ? "خطأ" : "Error",
                            text: IfArabic ? "هناك خطأ ما!" : res.responseMsg,
                            icon: "error",
                            dangerMode: true,
                            confirmButtonText: IfArabic ? "موافق" : "OK",
                        })
                    }

                });


            }
        });





        $("#RegisterForm").validate({

            rules: {
                Honorifics: {
                    required: true,

                },
                Name: {
                    required: true,

                },
                Username: {
                    required: true,

                },
                Password: {
                    required: true,
                    strongPassword: true

                }, Email: {
                    required: false,
                    email: true,
                },
                Nationality: {
                    required: true,

                },
                DocumentType: {
                    required: true,

                },
                Birthdate: {
                    required: true,

                },
                Documents: {
                    required: true,
                    maxlength: 18,
                    onlyDigits: true,

                },
                Mobile: {
                    required: true,
                    minlength: 9,
                    maxlength: 9
                },

                files1: {
                    required: true,
                    extension: "png|jpeg|jpg|doc|docx|pdf"

                },
                files2: {
                    required: true,
                    extension: "png|jpeg|jpg|doc|docx|pdf"
                },
                files3: {
                    required: true,
                    extension: "png|jpeg|jpg|doc|docx|pdf"
                },
                files4: {
                    required: true,
                    extension: "png|jpeg|jpg|doc|docx|pdf"
                },
                files5: {
                    required: true,
                    extension: "png|jpeg|jpg|doc|docx|pdf"
                },
                files6: {
                    required: true,
                    extension: "png|jpeg|jpg|doc|docx|pdf"
                },
            },
            messages: {
                Honorifics: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                Name: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                Username: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                Password: {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                },
                Email: {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    email: IfArabic ? "هذه الخانة مطلوبهعنوان بريد إلكتروني غير صالح" : "Invalid email format",
                },
                Nationality: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                DocumentType: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                Birthdate: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                Documents: {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    maxlength: IfArabic ? "You can enter maximum 18 numbers" : "You can enter maximum 18 numbers ",
                    onlyDigits: IfArabic ? "الرجاء إدخال أرقام فقط." : "Please enter only digits.",
                },
                Mobile: {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    minlength: IfArabic ? "يجب أن يكون طول الجوال 9 أرقام" : "The length of mobile must be 9 digits",
                    maxlength: IfArabic ? "يجب أن يكون طول الجوال 9 أرقام" : "The length of mobile must be 9 digits"

                },
                files1:
                {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    extension: IfArabic ? "الرجاء تحميل وتنسيق ملف صالح" : "Please upload a valid file format."

                },
                files2:
                {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    extension: IfArabic ? "الرجاء تحميل وتنسيق ملف صالح" : "Please upload a valid file format."

                },
                files3:
                {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    extension: IfArabic ? "الرجاء تحميل وتنسيق ملف صالح" : "Please upload a valid file format."

                },
                files4:
                {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    extension: IfArabic ? "الرجاء تحميل وتنسيق ملف صالح" : "Please upload a valid file format."

                },
                files5:
                {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    extension: IfArabic ? "الرجاء تحميل وتنسيق ملف صالح" : "Please upload a valid file format."


                },
                files6:
                {
                    required: IfArabic ? "هذه الخانة مطلوبه:" : "This field is required.",
                    extension: IfArabic ? "الرجاء تحميل وتنسيق ملف صالح" : "Please upload a valid file format."


                },



            },
            highlight: function (element) {
                $(element).parent().addClass('has-error');
            },
            unhighlight: function (element) {
                $(element).parent().removeClass('has-error');
            },
            errorElement: 'span',
            errorClass: 'validation-error-message bold mt-2 text-left',
            errorPlacement: function (error, element) {
                error.appendTo(element.parent());
            },


        });





        $(document).on('change', 'select', function () {
            $(this).valid();
        })

        function postRequestWithoutStringfy(url, requestData, handledata) {
            console.log(requestData);
            $.ajax({
                type: 'POST',
                url: url,
                contentType: false, // Not to set any content header
                processData: false, // Not to process data
                data: requestData,
                success: function (data, textStatus, xhr) {
                    console.log(data);
                    handledata(data);
                },
                error: function (xhr, textStatus, errorThrown) {
                    //swal({
                    //    title: "Error",
                    //    text: "Something Went Wrong!",
                    //    icon: "error",
                    //    dangerMode: true,
                    //})
                }
            });
        }

        function postRequest(url, requestData, handledata) {
            $.ajax({
                type: 'POST',
                contentType: 'application/json;charset=utf-8',
                dataType: "json",
                url: url,
                headers: {

                },

                data: JSON.stringify(requestData),
                success: function (data, textstatus, xhr) {
                    handledata(data);
                },
                error: function (xhr, textstatus, errorThrown) {
                    swal({
                        title: IfArabic ? "خطأ" : "Error",
                        text: IfArabic ? "عفواً! هنالك خطأ ما" : "Ooops! Something went wrong!",
                        icon: "error",
                        dangerMode: true,
                    })
                }
            });
        }
        function fillData(res, tempContainerId, fillContainerId, IsRefresh) {
            if (res) {
                $(fillContainerId).html('');
                let template = $(tempContainerId).html()
                var templateScript = Handlebars.compile(template);
                $(fillContainerId).html(templateScript(res));
                if (IsRefresh)
                    $(fillContainerId).selectpicker('refresh');
            }
        }





    </script>
</body>

</html>




















